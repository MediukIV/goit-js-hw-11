{"version":3,"file":"commonHelpers.js","sources":["../src/js/main.js"],"sourcesContent":["// import iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\n// import okIcon from '../img/ok.svg';\n// import errorIcon from '../img/err.svg';\n\n// const fetchImageBtn = document.querySelector(\".btn\");\n// const imageList = document.querySelector(\".image-list\");\n\n// fetchImageBtn.addEventListener(\"submit\", (event) => {\n//     event.preventDefault();\n//     // const form = event.target;\n// //     const delay = form.elements.delay.value;\n// //     const state = form.elements.state.value;\n//     fetchImage(event)\n//     .then((data) => {\n//         console.log(data);\n//         return data\n//     })\n//     .catch((error) => onRejected(error));\n// });\n\n// // renderImage\n\n// function fetchImage(event) {\n//   return fetch('https://pixabay.com/api/?key=42096263-920755fbf423cd5814494514c&q=yellow+flowers&image_type=photo&orientation=horizontal&safesearch=true')\n//     .then((response) => {\n//       if (!response.ok) {\n//         throw new Error(`Error`);\n//       }\n//       return response.json();\n//     }\n//   );\n// }\n\n// // const searchParams = new URLSearchParams({\n// //     key: '42096263-920755fbf423cd5814494514c',\n// //     q: 'cat',\n// //     image_type: 'photo',\n// //     orientation: 'horizontal',\n// //     safesearch: true\n// // });\n// // console.log(searchParams)\n\n// // function renderImage(images) {\n// //   const markup = images\n// //     .map((image) => {\n// //       return `<li>\n// //           <p><b>Name</b>: ${image.name}</p>\n// //           <p><b>Email</b>: ${image.email}</p>\n// //           <p><b>Company</b>: ${image.company.name}</p>\n// //         </li>`;\n// //     })\n// //     .join(\"\");\n// //     imageList.insertAdjacentHTML(\"beforeend\", markup);\n// // }\n\n// function onRejected(error) {\n//     iziToast.show({\n//         title: 'Error',\n//         titleColor: '#FFFFFF',\n//         message: `Rejected promise`,\n//         messageColor: '#FFFFFF',\n//         messageSize: '16px',\n//         backgroundColor: '#EF4040',\n//         iconUrl: errorIcon,\n//         position: 'topRight'\n//     });\n// };\n// Підключаємо бібліотеку для сповіщень (Toast) та її стилі\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Підключаємо бібліотеку для галереї світлин та її стилі\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// Чекаємо, доки весь контент сторінки буде завантажено\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  // Отримуємо посилання на форму, поле вводу, індикатор завантаження та контейнер галереї\n  const form = document.querySelector(\".searchForm\");\n  const searchInput = document.querySelector(\".searchInput\");\n  const loader = document.querySelector(\".loader\");\n  const gallery = document.querySelector(\".gallery\");\n\n  // Ключ API та URL для запитів до Pixabay API\n  const apiKey = \"42055816-5ec499474650eadfc6b07a02f\";\n  const apiUrl = \"https://pixabay.com/api/\";\n\n  // Створюємо екземпляр SimpleLightbox та вказуємо селектор для зображень у галереї\n  const lightbox = new SimpleLightbox(\".gallery a\");\n\n  // Встановлюємо обробник подій для форми при її відправці\n  form.addEventListener(\"submit\", (event) => {\n    // Запобігаємо стандартну поведінку форми (перезавантаження сторінки)\n    event.preventDefault();\n\n    // Отримуємо значення з поля вводу та видаляємо пробіли з обох боків\n    const searchTerm = searchInput.value.trim();\n\n    // Перевіряємо, чи введено ключове слово для пошуку\n    if (searchTerm === \"\") {\n      // Якщо ключове слово відсутнє, виводимо повідомлення про помилку\n      iziToast.error({\n        title: \"Error\",\n        message: \"Please enter a search term.\",\n      });\n      return;\n    }\n\n    // Показуємо індикатор завантаження та очищуємо попередні результати пошуку\n    loader.classList.remove(\"hidden\");\n    gallery.innerHTML = \"\";\n\n    // Відправляємо запит до Pixabay API за допомогою fetch\n    fetch(`${apiUrl}?key=${apiKey}&q=${searchTerm}&image_type=photo&orientation=horizontal&safesearch=true`)\n      .then((response) => {\n        // Перевіряємо, чи відповідь успішна\n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n        // Парсимо відповідь у формат JSON\n        return response.json();\n      })\n      .then((data) => {\n        // Перевіряємо, чи отримані зображення\n        if (data.hits.length === 0) {\n          // Якщо зображення відсутні, виводимо повідомлення\n          iziToast.error({\n            title: \"\",\n            titleColor: '#FFFFFF',\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            messageColor: '#FFFFFF',\n            messageSize: '16px',\n            backgroundColor: '#EF4040',\n            iconColor: '#FFFFFF',\n            position: 'topRight'\n          });\n        } else {\n          // Якщо є зображення, відображаємо їх на сторінці\n          const images = data.hits.map((hit) => ({\n            webformatURL: hit.webformatURL,\n            largeImageURL: hit.largeImageURL,\n            tags: hit.tags,\n            likes: hit.likes,\n            views: hit.views,\n            comments: hit.comments,\n            downloads: hit.downloads,\n          }));\n\n          displayImages(images);\n        }\n      })\n      .catch((error) => {\n        // Виводимо повідомлення про помилку у випадку проблеми з запитом\n        console.error(\"Error fetching data:\", error);\n        iziToast.error({\n          title: \"Error\",\n          titleColor: '#FFFFFF',\n          message: \"An error occurred while fetching data. Please try again.\",\n          messageColor: '#FFFFFF',\n          messageSize: '16px',\n          backgroundColor: '#EF4040',\n          iconColor: '#FFFFFF',\n          position: 'topRight'\n        });\n      })\n      .finally(() => {\n        // Приховуємо індикатор завантаження після завершення запиту\n        loader.classList.add(\"hidden\");\n      });\n  });\n\n  // Функція для відображення зображень на сторінці\n  function displayImages(images) {\n  // Створюємо HTML-розмітку для кожного зображення\n const galleryHTML = images\n    .map(\n      (image, index) => `\n        <div class=\"gallery-item\">\n          <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\" data-title=\"${image.tags}\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"image-thumbnail image-${index + 1}\">\n          </a>\n          <div class=\"image-details image-details-${index + 1}\">\n            <p class=\"likes likes-${index + 1}\">Likes: <span class=\"result-likes\">${image.likes}</span></p>\n            <p class=\"views views-${index + 1}\">Views: <span class=\"result-views\">${image.views}</span></p>\n            <p class=\"comments comments-${index + 1}\">Comments: <span class=\"result-comments\">${image.comments}</span></p>\n            <p class=\"downloads downloads-${index + 1}\">Downloads: <span class=\"result-downloads\">${image.downloads}</span></p>\n          </div>\n        </div>\n      `\n    )\n    .join(\"\");\n\n    // Додаємо HTML до контейнера галереї\n    gallery.innerHTML = galleryHTML;\n\n    // Оновлюємо SimpleLightbox після додавання нових зображень\n    lightbox.refresh();\n  }\n});"],"names":["form","searchInput","loader","gallery","apiKey","apiUrl","lightbox","SimpleLightbox","event","searchTerm","iziToast","response","data","images","hit","displayImages","error","galleryHTML","image","index"],"mappings":"6vBA6EA,SAAS,iBAAiB,mBAAoB,IAAM,CAElD,MAAMA,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAG3CC,EAAS,qCACTC,EAAS,2BAGTC,EAAW,IAAIC,EAAe,YAAY,EAGhDP,EAAK,iBAAiB,SAAWQ,GAAU,CAEzCA,EAAM,eAAc,EAGpB,MAAMC,EAAaR,EAAY,MAAM,KAAI,EAGzC,GAAIQ,IAAe,GAAI,CAErBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACjB,CAAO,EACD,MACD,CAGDR,EAAO,UAAU,OAAO,QAAQ,EAChCC,EAAQ,UAAY,GAGpB,MAAM,GAAGE,SAAcD,OAAYK,2DAAoE,EACpG,KAAME,GAAa,CAElB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,QAAQ,EAG1D,OAAOA,EAAS,MACxB,CAAO,EACA,KAAMC,GAAS,CAEd,GAAIA,EAAK,KAAK,SAAW,EAEvBF,EAAS,MAAM,CACb,MAAO,GACP,WAAY,UACZ,QAAS,2EACT,aAAc,UACd,YAAa,OACb,gBAAiB,UACjB,UAAW,UACX,SAAU,UACtB,CAAW,MACI,CAEL,MAAMG,EAASD,EAAK,KAAK,IAAKE,IAAS,CACrC,aAAcA,EAAI,aAClB,cAAeA,EAAI,cACnB,KAAMA,EAAI,KACV,MAAOA,EAAI,MACX,MAAOA,EAAI,MACX,SAAUA,EAAI,SACd,UAAWA,EAAI,SAChB,EAAC,EAEFC,EAAcF,CAAM,CACrB,CACT,CAAO,EACA,MAAOG,GAAU,CAEhB,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CN,EAAS,MAAM,CACb,MAAO,QACP,WAAY,UACZ,QAAS,2DACT,aAAc,UACd,YAAa,OACb,gBAAiB,UACjB,UAAW,UACX,SAAU,UACpB,CAAS,CACT,CAAO,EACA,QAAQ,IAAM,CAEbR,EAAO,UAAU,IAAI,QAAQ,CACrC,CAAO,CACP,CAAG,EAGD,SAASa,EAAcF,EAAQ,CAEhC,MAAMI,EAAcJ,EAChB,IACC,CAACK,EAAOC,IAAU;AAAA;AAAA,qBAEHD,EAAM,sDAAsDA,EAAM;AAAA,wBAC/DA,EAAM,sBAAsBA,EAAM,sCAAsCC,EAAQ;AAAA;AAAA,oDAEpDA,EAAQ;AAAA,oCACxBA,EAAQ,wCAAwCD,EAAM;AAAA,oCACtDC,EAAQ,wCAAwCD,EAAM;AAAA,0CAChDC,EAAQ,8CAA8CD,EAAM;AAAA,4CAC1DC,EAAQ,gDAAgDD,EAAM;AAAA;AAAA;AAAA,OAIrG,EACA,KAAK,EAAE,EAGRf,EAAQ,UAAYc,EAGpBX,EAAS,QAAO,CACjB,CACH,CAAC"}